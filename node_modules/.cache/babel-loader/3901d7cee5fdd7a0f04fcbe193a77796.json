{"ast":null,"code":"var _jsxFileName = \"/home/daw/GitHub/DAW-DIW/UD05/REACT/pokedex/src/componentes/Busqueda.js\";\nimport React, { Component } from 'react';\nimport Listado from './Listado';\nexport default class Busqueda extends Component {\n  constructor(props) {\n    super(props);\n\n    this.filtrarPokemons = e => {\n      if (e.target.value === '' || e.target.value === null) {\n        this.setState({\n          pokemons: this.state.datosPokemons\n        });\n      } else {\n        this.setState({\n          pokemons: this.state.datosPokemons.filter(pokemon => pokemon.name.includes(e.target.value.toLowerCase()))\n        });\n      }\n    };\n\n    this.state = {\n      error: null,\n      isLoaded: false,\n      allPokemons: [],\n      datosPokemons: [],\n      pokemons: []\n    };\n  }\n\n  componentDidMount() {\n    fetch(\"https://pokeapi.co/api/v2/pokemon?limit=100\").then(res => res.json()).then(result => {\n      this.setState({\n        isLoaded: true,\n        allPokemons: result.results\n      });\n      result.results.forEach(element => {\n        fetch(element.url).then(res => res.json()).then(result => {\n          this.setState({\n            datosPokemons: this.state.datosPokemons.concat(result)\n          });\n        });\n      });\n    }, // Note: it's important to handle errors here\n    // instead of a catch() block so that we don't swallow\n    // exceptions from actual bugs in components.\n    error => {\n      this.setState({\n        isLoaded: true,\n        error\n      });\n    });\n  } //Se filtra en pokemons cuyos nombres incluyan el valor del input filtrar\n\n\n  //Previene el recargado del form\n  submitHandler(e) {\n    e.preventDefault();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"cabecera\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"PokeDex\"), React.createElement(\"form\", {\n      id: \"busquedaform\",\n      onSubmit: this.submitHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      name: \"filtrar\",\n      onChange: this.filtrarPokemons,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      id: \"CartaFlotante\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }), React.createElement(Listado, {\n      pokemons: this.state.pokemons,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/home/daw/GitHub/DAW-DIW/UD05/REACT/pokedex/src/componentes/Busqueda.js"],"names":["React","Component","Listado","Busqueda","constructor","props","filtrarPokemons","e","target","value","setState","pokemons","state","datosPokemons","filter","pokemon","name","includes","toLowerCase","error","isLoaded","allPokemons","componentDidMount","fetch","then","res","json","result","results","forEach","element","url","concat","submitHandler","preventDefault","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Listado from './Listado';\n\nexport default class Busqueda extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            error: null,\n            isLoaded: false,\n            allPokemons: [],\n            datosPokemons: [],\n            pokemons: []\n        };\n    }\n\n    componentDidMount() {\n        fetch(\"https://pokeapi.co/api/v2/pokemon?limit=100\")\n            .then(res => res.json())\n            .then(\n                (result) => {\n                    this.setState({\n                        isLoaded: true,\n                        allPokemons: result.results\n                        \n                    });\n\n                    result.results.forEach(element => {\n                        fetch(element.url)\n                            .then(res => res.json()).then(\n                                (result) => {\n                                    this.setState({\n                                        datosPokemons: this.state.datosPokemons.concat(result)\n                                    });\n                                })\n                    });\n                },\n                // Note: it's important to handle errors here\n                // instead of a catch() block so that we don't swallow\n                // exceptions from actual bugs in components.\n                (error) => {\n                    this.setState({\n                        isLoaded: true,\n                        error\n                    });\n                }\n            )\n    }\n\n    //Se filtra en pokemons cuyos nombres incluyan el valor del input filtrar\n    filtrarPokemons = (e) => {\n\n        if (e.target.value === '' || e.target.value === null) {\n            this.setState({\n            pokemons: this.state.datosPokemons\n            })\n        } else {\n            this.setState({\n                pokemons: this.state.datosPokemons.filter(pokemon => pokemon.name.includes(e.target.value.toLowerCase()))\n            }) \n        }\n    }\n\n    //Previene el recargado del form\n    submitHandler(e) {\n        e.preventDefault();\n    }\n\n    render() {\n        return (\n            <div>\n                <div className=\"cabecera\">\n                    <h1>PokeDex</h1>\n                    <form id=\"busquedaform\" onSubmit={this.submitHandler} >\n                        <input type=\"text\" name=\"filtrar\" onChange={this.filtrarPokemons} />\n                    </form>\n                </div>\n                <div id='CartaFlotante'></div>\n                <Listado pokemons={this.state.pokemons} />\n            </div>\n        );\n    }\n}\n"]},"metadata":{},"sourceType":"module"}